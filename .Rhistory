dataset$Sexo = as.factor(dataset$Sexo)
dataset$d = as.factor(dataset$d)
# Variable dicotómica para el desenlace (alta, fallecido o censurado)
dataset$outcome = dataset$death_binaria
dataset$outcome[dataset$outcome == 1] = "Fallecido"
for (i in 1:nrow(dataset)) {
if (dataset$d[i] == 0) {
dataset$outcome[i] = "Censurado"
}
}
dataset$outcome[dataset$outcome == 0] = "Alta"
# Crear la variable de censura (evento de interés: muerte)
for (k in 1:nrow(dataset)) {
if (dataset$outcome[k] == "Alta" || dataset$outcome[k] == "Censurado" ) {
dataset$d[k] = 0
} else {dataset$d[k] = 1}
}
# Base de datos de pacientes criticos cronicos
cronicos = dataset %>%  filter(t >= 21)
# Base de datos de pacientes criticos
criticos = dataset %>%  filter(t < 21)
# Variable binaria (críticos y críticos crónicos)
dataset$Cronico = NA
for (i in 1:nrow(dataset)) {
if (dataset$t[i] >= 21) {
dataset$Cronico[i] = "Crónico"
}else{
dataset$Cronico[i] = "Crítico"
}
}
# Variable binaria (críticos y críticos crónicos)
dataset$Cronico = NA
for (i in 1:nrow(dataset)) {
if (dataset$t_UCI[i] >= 21) {
dataset$Cronico[i] = "Crónico"
}else{
dataset$Cronico[i] = "Crítico"
}
}
# Establecer fecha de censura (120 días)
for (k in 1:nrow(dataset)) {
if (dataset$t[k] > 120) {
dataset$t[k] = 120
dataset$d[k] = 0
}
}
# Construir base de datos de recepción para la prueba Mantel-Cox
mantel_cox = data.frame(variable = c("All by sex", "All by age",
"All by chronic", "CCI by sex",
"CCI by age", "No-CCI by sex",
"No-CCI by age"),
chi_sqr = rep(NA, 7), p_value = rep(NA, 7))
normal = data.frame(Variable = c("Edad", "ICU_LoS", "Onset_Adm"),
Skewness = c(NA,NA,NA), Kurtosis=c(NA,NA,NA),
W= c(NA,NA,NA), p_value= c(NA, NA,NA))
normal$Skewness[1] = skewness(dataset$Edad)
normal$Kurtosis[1] = kurtosis(dataset$Edad)
normal$W[1] = as.numeric(shapiro.test(dataset$Edad)$statistic)
normal$p_value[1] = as.numeric(shapiro.test(dataset$Edad)$p.value)
normal$Skewness[2] = skewness(dataset$t_UCI)
normal$Kurtosis[2] = kurtosis(dataset$t_UCI)
normal$W[2] = as.numeric(shapiro.test(dataset$t_UCI)$statistic)
normal$p_value[2] = as.numeric(shapiro.test(dataset$t_UCI)$p.value)
normal$Skewness[3] = skewness(dataset$t_OS)
normal$Kurtosis[3] = kurtosis(dataset$t_OS)
normal$W[3] = as.numeric(shapiro.test(dataset$t_OS)$statistic)
normal$p_value[3] = as.numeric(shapiro.test(dataset$t_OS)$p.value)
normal
getwd()
file.choose()
# Guardar en formato Latex
normal_ltx = kable(normal, , caption = "Shapiro-Wilk normality test for continuous variables", format = "latex")
library(knitr)
library(kableExtra)
# Guardar en formato Latex
normal_ltx = kable(normal, , caption = "Shapiro-Wilk normality test for continuous variables", format = "latex")
writeLines(edad_sexo_ltx,"Análisis estadístico\\Análisis descriptivo\\normal.tex")
writeLines(normal_ltx,"Análisis estadístico\\Análisis descriptivo\\normal.tex")
# Guardar en formato Latex
normal = round(normal, digits = 4)
normal
# Guardar en formato Latex
for (i in 2:ncol(normal)) {
normal[,i] = round(normal[,i], digits = 4)
}
normal
normal = data.frame(Variable = c("Edad", "ICU_LoS", "Onset_Adm"),
Skewness = c(NA,NA,NA), Kurtosis=c(NA,NA,NA),
W= c(NA,NA,NA), p_value= c(NA, NA,NA))
normal$Skewness[1] = skewness(dataset$Edad)
normal$Kurtosis[1] = kurtosis(dataset$Edad)
normal$W[1] = as.numeric(shapiro.test(dataset$Edad)$statistic)
normal$p_value[1] = as.numeric(shapiro.test(dataset$Edad)$p.value)
normal$Skewness[2] = skewness(dataset$t_UCI)
normal$Kurtosis[2] = kurtosis(dataset$t_UCI)
normal$W[2] = as.numeric(shapiro.test(dataset$t_UCI)$statistic)
normal$p_value[2] = as.numeric(shapiro.test(dataset$t_UCI)$p.value)
normal$Skewness[3] = skewness(dataset$t_OS)
normal$Kurtosis[3] = kurtosis(dataset$t_OS)
normal$W[3] = as.numeric(shapiro.test(dataset$t_OS)$statistic)
normal$p_value[3] = as.numeric(shapiro.test(dataset$t_OS)$p.value)
# Guardar en formato Latex
for (i in 2:(ncol(normal)-1)) {
normal[,i] = round(normal[,i], digits = 4)
}
normal
normal_ltx = kable(normal, , caption = "Shapiro-Wilk normality test for continuous variables", format = "latex")
writeLines(normal_ltx,"Análisis estadístico\\Análisis descriptivo\\normal.tex")
View(dataset)
continuas = data.frame(Variable = c("Edad", "ICU_LoS", "Onset_Adm"),
Mediana = c(NA, NA, NA),
Q1 = c(NA, NA, NA),
Q3 = c(NA, NA, NA))
continuas$Mediana[1] = median(dataset$Edad)
continuas$Q1[1] = quantile(dataset$Edad, c(0.25), type = 6)
continuas$Q3[1] = quantile(dataset$Edad, c(0.75), type = 6)
continuas$Mediana[2] = median(dataset$t_UCI)
continuas$Q1[2] = quantile(dataset$t_UCI, c(0.25), type = 6)
continuas$Q3[2] = quantile(dataset$t_UCI, c(0.75), type = 6)
continuas$Mediana[3] = median(dataset$t_OS)
continuas$Q1[3] = quantile(dataset$t_OS, c(0.25), type = 6)
continuas$Q3[3] = quantile(dataset$t_OS, c(0.75), type = 6)
continuas_cronicos = data.frame(Variable = c("Edad", "ICU_LoS", "Onset_Adm"),
Mediana = c(NA, NA, NA),
Q1 = c(NA, NA, NA),
Q3 = c(NA, NA, NA))
continuas_cronicos$Mediana[1] = median(cronicos$Edad)
continuas_cronicos$Q1[1] = quantile(cronicos$Edad, c(0.25), type = 6)
continuas_cronicos$Q3[1] = quantile(cronicos$Edad, c(0.75), type = 6)
continuas_cronicos$Mediana[2] = median(cronicos$t_UCI)
continuas_cronicos$Q1[2] = quantile(cronicos$t_UCI, c(0.25), type = 6)
continuas_cronicos$Q3[2] = quantile(cronicos$t_UCI, c(0.75), type = 6)
continuas_cronicos$Mediana[3] = median(cronicos$t_OS)
continuas_cronicos$Q1[3] = quantile(cronicos$t_OS, c(0.25), type = 6)
continuas_cronicos$Q3[3] = quantile(cronicos$t_OS, c(0.75), type = 6)
continuas_criticos = data.frame(Variable = c("Edad", "ICU_LoS", "Onset_Adm"),
Mediana = c(NA, NA, NA),
Q1 = c(NA, NA, NA),
Q3 = c(NA, NA, NA))
continuas_criticos$Mediana[1] = median(criticos$Edad)
continuas_criticos$Q1[1] = quantile(criticos$Edad, c(0.25), type = 6)
continuas_criticos$Q3[1] = quantile(criticos$Edad, c(0.75), type = 6)
continuas_criticos$Mediana[2] = median(criticos$t_UCI)
continuas_criticos$Q1[2] = quantile(criticos$t_UCI, c(0.25), type = 6)
continuas_criticos$Q3[2] = quantile(criticos$t_UCI, c(0.75), type = 6)
continuas_criticos$Mediana[3] = median(criticos$t_OS)
continuas_criticos$Q1[3] = quantile(criticos$t_OS, c(0.25), type = 6)
continuas_criticos$Q3[3] = quantile(criticos$t_OS, c(0.75), type = 6)
descriptivo_continuas = list(continuas, continuas_cronicos, continuas_criticos)
names(descriptivo_continuas) = c("Continuas", "Crónicos", "Críticos")
rm(continuas, continuas_cronicos, continuas_criticos)
View(continuas)
###########################################
## 1.2. Resumen descriptivo (continuas)  ##
###########################################
continuas = data.frame(Variable = c("Edad", "ICU_LoS", "Onset_Adm"),
Mediana = c(NA, NA, NA),
Q1 = c(NA, NA, NA),
Q3 = c(NA, NA, NA))
continuas$Mediana[1] = median(dataset$Edad)
continuas$Q1[1] = quantile(dataset$Edad, c(0.25), type = 6)
continuas$Q3[1] = quantile(dataset$Edad, c(0.75), type = 6)
continuas$Mediana[2] = median(dataset$t_UCI)
continuas$Q1[2] = quantile(dataset$t_UCI, c(0.25), type = 6)
continuas$Q3[2] = quantile(dataset$t_UCI, c(0.75), type = 6)
continuas$Mediana[3] = median(dataset$t_OS)
continuas$Q1[3] = quantile(dataset$t_OS, c(0.25), type = 6)
continuas$Q3[3] = quantile(dataset$t_OS, c(0.75), type = 6)
continuas_cronicos = data.frame(Variable = c("Edad", "ICU_LoS", "Onset_Adm"),
Mediana = c(NA, NA, NA),
Q1 = c(NA, NA, NA),
Q3 = c(NA, NA, NA))
continuas_cronicos$Mediana[1] = median(cronicos$Edad)
continuas_cronicos$Q1[1] = quantile(cronicos$Edad, c(0.25), type = 6)
continuas_cronicos$Q3[1] = quantile(cronicos$Edad, c(0.75), type = 6)
continuas_cronicos$Mediana[2] = median(cronicos$t_UCI)
continuas_cronicos$Q1[2] = quantile(cronicos$t_UCI, c(0.25), type = 6)
continuas_cronicos$Q3[2] = quantile(cronicos$t_UCI, c(0.75), type = 6)
continuas_cronicos$Mediana[3] = median(cronicos$t_OS)
continuas_cronicos$Q1[3] = quantile(cronicos$t_OS, c(0.25), type = 6)
continuas_cronicos$Q3[3] = quantile(cronicos$t_OS, c(0.75), type = 6)
continuas_criticos = data.frame(Variable = c("Edad", "ICU_LoS", "Onset_Adm"),
Mediana = c(NA, NA, NA),
Q1 = c(NA, NA, NA),
Q3 = c(NA, NA, NA))
continuas_criticos$Mediana[1] = median(criticos$Edad)
continuas_criticos$Q1[1] = quantile(criticos$Edad, c(0.25), type = 6)
continuas_criticos$Q3[1] = quantile(criticos$Edad, c(0.75), type = 6)
continuas_criticos$Mediana[2] = median(criticos$t_UCI)
continuas_criticos$Q1[2] = quantile(criticos$t_UCI, c(0.25), type = 6)
continuas_criticos$Q3[2] = quantile(criticos$t_UCI, c(0.75), type = 6)
continuas_criticos$Mediana[3] = median(criticos$t_OS)
continuas_criticos$Q1[3] = quantile(criticos$t_OS, c(0.25), type = 6)
continuas_criticos$Q3[3] = quantile(criticos$t_OS, c(0.75), type = 6)
descriptivo_continuas = list(continuas, continuas_cronicos, continuas_criticos)
View(descriptivo_continuas)
descriptivo_continuas[[1]]
descriptivo_continuas[[2]]
descriptivo_continuas[[3]]
descriptivo_continuas
names(descriptivo_continuas) = c("Continuas", "Crónicos", "Críticos")
descriptivo_continuas
# Preparar y guardar en formato Latex
continuas_latex = data.frame(Variables = descriptivo_continuas[[1]]$Variable,
Total = rep(NA, 3), Crónicos = rep(NA, 3),
Críticos = rep(NA,3))
continuas_latex
i = 1
descriptivo_continuas[[i]]$x = paste0(descriptivo_continuas[[i]]$Mediana," (",
descriptivo_continuas[[i]]$Q1,
descriptivo_continuas[[i]]$Q3,
")")
descriptivo_continuas[[i]]
descriptivo_continuas[[i]]$x = paste0(descriptivo_continuas[[i]]$Mediana," (",
descriptivo_continuas[[i]]$Q1," ,"
descriptivo_continuas[[i]]$Q3,
")")
# Preparar y guardar en formato Latex
for (i in 1:length(descriptivo_continuas)) {
i = 1
descriptivo_continuas[[i]]$x = paste0(descriptivo_continuas[[i]]$Mediana," (",
descriptivo_continuas[[i]]$Q1," ,",
descriptivo_continuas[[i]]$Q3,
")")
}
descriptivo_continuas[[i]]
i = 1
descriptivo_continuas[[i]]$x = paste0(descriptivo_continuas[[i]]$Mediana," (",
descriptivo_continuas[[i]]$Q1,", ",
descriptivo_continuas[[i]]$Q3,
")")
descriptivo_continuas[[i]]
descriptivo_continuas[[i]] = descriptivo_continuas[[i]]["x"]
descriptivo_continuas[[i]]
descriptivo_continuas = list(continuas, continuas_cronicos, continuas_criticos)
names(descriptivo_continuas) = c("Continuas", "Crónicos", "Críticos")
colnames(descriptivo_continuas[[i]]) = c("Variable",
names(descriptivo_continuas)[[i]])
descriptivo_continuas[[i]]
descriptivo_continuas[[i]]$x = paste0(descriptivo_continuas[[i]]$Mediana," (",
descriptivo_continuas[[i]]$Q1,", ",
descriptivo_continuas[[i]]$Q3,
")")
descriptivo_continuas[[i]] = descriptivo_continuas[[i]][c("Variable", "x")]
colnames(descriptivo_continuas[[i]]) = c("Variable",
names(descriptivo_continuas)[[i]])
descriptivo_continuas[[i]]
descriptivo_continuas = list(continuas, continuas_cronicos, continuas_criticos)
names(descriptivo_continuas) = c("Continuas", "Crónicos", "Críticos")
rm(continuas, continuas_cronicos, continuas_criticos)
descriptivo_continuas = list(continuas, continuas_cronicos, continuas_criticos)
names(descriptivo_continuas) = c("Continuas", "Crónicos", "Críticos")
descriptivo_continuas[[i]]$x = paste0(descriptivo_continuas[[i]]$Mediana," (",
descriptivo_continuas[[i]]$Q1,", ",
descriptivo_continuas[[i]]$Q3,
")")
descriptivo_continuas[[i]] = descriptivo_continuas[[i]][c("Variable", "x")]
colnames(descriptivo_continuas[[i]]) = c("Variable",
names(descriptivo_continuas)[[i]])
descriptivo_continuas[[i]]
descriptivo_latex = merge(descriptivo_continuas[[1]],
descriptivo_continuas[[2]], by = "Variable")
descriptivo_latex
# Preparar y guardar en formato Latex
for (i in 1:length(descriptivo_continuas)) {
descriptivo_continuas[[i]]$x = paste0(descriptivo_continuas[[i]]$Mediana," (",
descriptivo_continuas[[i]]$Q1,", ",
descriptivo_continuas[[i]]$Q3,
")")
descriptivo_continuas[[i]] = descriptivo_continuas[[i]][c("Variable", "x")]
colnames(descriptivo_continuas[[i]]) = c("Variable",
names(descriptivo_continuas)[[i]])
}
descriptivo_latex = merge(descriptivo_continuas[[1]],
descriptivo_continuas[[2]], by = "Variable")
descriptivo_latex
continuas = data.frame(Variable = c("Edad", "ICU_LoS", "Onset_Adm"),
Mediana = c(NA, NA, NA),
Q1 = c(NA, NA, NA),
Q3 = c(NA, NA, NA))
continuas$Mediana[1] = median(dataset$Edad)
continuas$Q1[1] = quantile(dataset$Edad, c(0.25), type = 6)
continuas$Q3[1] = quantile(dataset$Edad, c(0.75), type = 6)
continuas$Mediana[2] = median(dataset$t_UCI)
continuas$Q1[2] = quantile(dataset$t_UCI, c(0.25), type = 6)
continuas$Q3[2] = quantile(dataset$t_UCI, c(0.75), type = 6)
continuas$Mediana[3] = median(dataset$t_OS)
continuas$Q1[3] = quantile(dataset$t_OS, c(0.25), type = 6)
continuas$Q3[3] = quantile(dataset$t_OS, c(0.75), type = 6)
continuas_cronicos = data.frame(Variable = c("Edad", "ICU_LoS", "Onset_Adm"),
Mediana = c(NA, NA, NA),
Q1 = c(NA, NA, NA),
Q3 = c(NA, NA, NA))
continuas_cronicos$Mediana[1] = median(cronicos$Edad)
continuas_cronicos$Q1[1] = quantile(cronicos$Edad, c(0.25), type = 6)
continuas_cronicos$Q3[1] = quantile(cronicos$Edad, c(0.75), type = 6)
continuas_cronicos$Mediana[2] = median(cronicos$t_UCI)
continuas_cronicos$Q1[2] = quantile(cronicos$t_UCI, c(0.25), type = 6)
continuas_cronicos$Q3[2] = quantile(cronicos$t_UCI, c(0.75), type = 6)
continuas_cronicos$Mediana[3] = median(cronicos$t_OS)
continuas_cronicos$Q1[3] = quantile(cronicos$t_OS, c(0.25), type = 6)
continuas_cronicos$Q3[3] = quantile(cronicos$t_OS, c(0.75), type = 6)
continuas_criticos = data.frame(Variable = c("Edad", "ICU_LoS", "Onset_Adm"),
Mediana = c(NA, NA, NA),
Q1 = c(NA, NA, NA),
Q3 = c(NA, NA, NA))
continuas_criticos$Mediana[1] = median(criticos$Edad)
continuas_criticos$Q1[1] = quantile(criticos$Edad, c(0.25), type = 6)
continuas_criticos$Q3[1] = quantile(criticos$Edad, c(0.75), type = 6)
continuas_criticos$Mediana[2] = median(criticos$t_UCI)
continuas_criticos$Q1[2] = quantile(criticos$t_UCI, c(0.25), type = 6)
continuas_criticos$Q3[2] = quantile(criticos$t_UCI, c(0.75), type = 6)
continuas_criticos$Mediana[3] = median(criticos$t_OS)
continuas_criticos$Q1[3] = quantile(criticos$t_OS, c(0.25), type = 6)
continuas_criticos$Q3[3] = quantile(criticos$t_OS, c(0.75), type = 6)
descriptivo_continuas = list(continuas, continuas_cronicos, continuas_criticos)
names(descriptivo_continuas) = c("Continuas", "Crónicos", "Críticos")
rm(continuas, continuas_cronicos, continuas_criticos)
# Preparar y guardar en formato Latex
for (i in 1:length(descriptivo_continuas)) {
descriptivo_continuas[[i]]$x = paste0(descriptivo_continuas[[i]]$Mediana," (",
descriptivo_continuas[[i]]$Q1,", ",
descriptivo_continuas[[i]]$Q3,
")")
descriptivo_continuas[[i]] = descriptivo_continuas[[i]][c("Variable", "x")]
colnames(descriptivo_continuas[[i]]) = c("Variable",
names(descriptivo_continuas)[[i]])
}
descriptivo_continuas[[i]]
descriptivo_latex = merge(descriptivo_continuas[[1]],
descriptivo_continuas[[2]], by = "Variable")
descriptivo_latex
descriptivo_latex = merge(descriptivo_latex,
descriptivo_continuas[[3]], by = "Variable")
descriptivo_latex
descriptivo_continuas_latex_ltx = kable(descriptivo_continuas_latex,
caption = "Non-Gaussian Continuous Variables, Median (IQR)", format = "latex")
descriptivo_continuas_latex = merge(descriptivo_continuas[[1]],
descriptivo_continuas[[2]], by = "Variable")
descriptivo_continuas_latex = merge(descriptivo_latex,
descriptivo_continuas[[3]], by = "Variable")
descriptivo_continuas_latex_ltx = kable(descriptivo_continuas_latex,
caption = "Non-Gaussian Continuous Variables, Median (IQR)", format = "latex")
writeLines(descriptivo_continuas_latex_ltx,"Análisis estadístico\\Análisis descriptivo\\Non_Gaussian.tex")
descriptivo_continuas_latex = merge(descriptivo_continuas[[1]],
descriptivo_continuas[[2]], by = "Variable")
descriptivo_continuas_latex = merge(descriptivo_latex,
descriptivo_continuas[[3]], by = "Variable")
descriptivo_continuas_latex_ltx = kable(descriptivo_continuas_latex,
caption = "Non-Gaussian Continuous Variables, Median (IQR)", format = "latex")
writeLines(descriptivo_continuas_latex_ltx,"Análisis estadístico\\Análisis descriptivo\\Non_Gaussian.tex")
descriptivo_continuas_latex = merge(descriptivo_continuas[[1]],
descriptivo_continuas[[2]], by = "Variable")
descriptivo_continuas_latex
descriptivo_continuas_latex = merge(descriptivo_continuas_latex,
descriptivo_continuas[[3]], by = "Variable")
descriptivo_continuas_latex_ltx = kable(descriptivo_continuas_latex,
caption = "Non-Gaussian Continuous Variables, Median (IQR)", format = "latex")
writeLines(descriptivo_continuas_latex_ltx,"Análisis estadístico\\Análisis descriptivo\\Non_Gaussian.tex")
###########################################
## 1.3. Resumen descriptivo (Sexo)       ##
###########################################
sexo_total = plyr::count(dataset$Sexo)
colnames(sexo_total) = c("Sexo", "Freq")
sexo_total$Share = (sexo_total$Freq/sum(sexo_total$Freq))*100
sexo_cronicos = plyr::count(cronicos$Sexo)
colnames(sexo_cronicos) = c("Sexo", "Freq")
sexo_cronicos$Share = (sexo_cronicos$Freq/sum(sexo_cronicos$Freq))*100
sexo_criticos = plyr::count(criticos$Sexo)
colnames(sexo_criticos) = c("Sexo", "Freq")
sexo_criticos$Share = (sexo_criticos$Freq/sum(sexo_criticos$Freq))*100
descriptivo_sexo = list(sexo_total, sexo_cronicos, sexo_criticos)
names(descriptivo_sexo) = c("Total", "Cr?nicos", "Cr?ticos")
rm(sexo_total, sexo_criticos, sexo_cronicos)
names(descriptivo_sexo) = c("Total", "Crónicos", "Críticos")
descriptivo_sexo
i = 1
descriptivo_sexo[[i]]$x = paste0(descriptivo_sexo[[i]]$Freq, " (",
round(descriptivo_sexo[[i]], 2),"%)")
descriptivo_sexo[[i]]$x = paste0(descriptivo_sexo[[i]]$Freq, " (",
round(descriptivo_sexo[[i]]$Share, 2),"%)")
descriptivo_sexo[[i]]
descriptivo_sexo[[i]] = descriptivo_continuas[[i]][c("Variable", "x")]
descriptivo_sexo[[i]] = descriptivo_continuas[[i]][c("Sexo", "x")]
descriptivo_sexo[[i]] = descriptivo_sexo[[i]][c("Sexo", "x")]
descriptivo_sexo[[1]]
colnames(descriptivo_sexo[[i]]) = c("Variable",
names(descriptivo_sexo)[[i]])
descriptivo_sexo[[i]]
colnames(descriptivo_sexo[[i]]) = c("Sexo",
names(descriptivo_sexo)[[i]])
descriptivo_sexo[[i]]
descriptivo_sexo_latex = merge(descriptivo_sexo[[1]],
descriptivo_sexo[[2]], by = "Sexo")
descriptivo_sexo_latex = merge(descriptivo_sexo_latex,
descriptivo_sexo[[3]], by = "Sexo")
writeLines(descriptivo_sexo_latex_ltx,"Análisis estadístico\\Análisis descriptivo\\Categorical_Sex.tex")
descriptivo_sexo_latex = merge(descriptivo_sexo[[1]],
descriptivo_sexo[[2]], by = "Sexo")
descriptivo_sexo_latex = merge(descriptivo_sexo_latex,
descriptivo_sexo[[3]], by = "Sexo")
descriptivo_sexo_latex_ltx = kable(descriptivo_sexo_latex,
caption = "Sex, n (%)", format = "latex")
writeLines(descriptivo_sexo_latex_ltx,"Análisis estadístico\\Análisis descriptivo\\Categorical_Sex.tex")
descriptivo_sexo_latex = merge(descriptivo_sexo[[1]],
descriptivo_sexo[[2]], by = "Sexo")
descriptivo_sexo_latex
# Preparar y guardar en formato Latex
for (i in 1:length(descriptivo_sexo)) {
descriptivo_sexo[[i]]$x = paste0(descriptivo_sexo[[i]]$Freq, " (",
round(descriptivo_sexo[[i]]$Share, 2),"%)")
descriptivo_sexo[[i]] = descriptivo_sexo[[i]][c("Sexo", "x")]
colnames(descriptivo_sexo[[i]]) = c("Sexo",
names(descriptivo_sexo)[[i]])
}
descriptivo_sexo_latex = merge(descriptivo_sexo[[1]],
descriptivo_sexo[[2]], by = "Sexo")
descriptivo_sexo_latex = merge(descriptivo_sexo_latex,
descriptivo_sexo[[3]], by = "Sexo")
# Preparar y guardar en formato Latex
for (i in 1:length(descriptivo_sexo)) {
descriptivo_sexo[[i]]$x = paste0(descriptivo_sexo[[i]]$Freq, " (",
round(descriptivo_sexo[[i]]$Share, 2),"%)")
descriptivo_sexo[[i]] = descriptivo_sexo[[i]][c("Sexo", "x")]
colnames(descriptivo_sexo[[i]]) = c("Sexo",
names(descriptivo_sexo)[[i]])
}
# Preparar y guardar en formato Latex
for (i in 2:length(descriptivo_sexo)) {
descriptivo_sexo[[i]]$x = paste0(descriptivo_sexo[[i]]$Freq, " (",
round(descriptivo_sexo[[i]]$Share, 2),"%)")
descriptivo_sexo[[i]] = descriptivo_sexo[[i]][c("Sexo", "x")]
colnames(descriptivo_sexo[[i]]) = c("Sexo",
names(descriptivo_sexo)[[i]])
}
descriptivo_sexo_latex = merge(descriptivo_sexo[[1]],
descriptivo_sexo[[2]], by = "Sexo")
descriptivo_sexo_latex = merge(descriptivo_sexo_latex,
descriptivo_sexo[[3]], by = "Sexo")
descriptivo_sexo_latex_ltx = kable(descriptivo_sexo_latex,
caption = "Sex, n (%)", format = "latex")
writeLines(descriptivo_sexo_latex_ltx,"Análisis estadístico\\Análisis descriptivo\\Categorical_Sex.tex")
outcome_total = plyr::count(dataset$outcome)
colnames(outcome_total) = c("Outcome", "Freq")
outcome_total$Share = (outcome_total$Freq/sum(outcome_total$Freq))*100
outcome_cronicos = plyr::count(cronicos$outcome)
colnames(outcome_cronicos) = c("Outcome", "Freq")
outcome_cronicos$Share = (outcome_cronicos$Freq/sum(outcome_cronicos$Freq))*100
outcome_criticos = plyr::count(criticos$outcome)
colnames(outcome_criticos) = c("Outcome", "Freq")
outcome_criticos$Share = (outcome_criticos$Freq/sum(outcome_criticos$Freq))*100
descriptivo_outcome = list(outcome_total, outcome_cronicos, outcome_criticos)
names(descriptivo_outcome) = c("Total", "Cr?nicos", "Cr?ticos")
rm(outcome_total, outcome_cronicos, outcome_criticos)
descriptivo_outcome
outcome_total = plyr::count(dataset$outcome)
colnames(outcome_total) = c("Outcome", "Freq")
outcome_total$Share = (outcome_total$Freq/sum(outcome_total$Freq))*100
outcome_cronicos = plyr::count(cronicos$outcome)
colnames(outcome_cronicos) = c("Outcome", "Freq")
outcome_cronicos$Share = (outcome_cronicos$Freq/sum(outcome_cronicos$Freq))*100
outcome_criticos = plyr::count(criticos$outcome)
colnames(outcome_criticos) = c("Outcome", "Freq")
outcome_criticos$Share = (outcome_criticos$Freq/sum(outcome_criticos$Freq))*100
descriptivo_outcome = list(outcome_total, outcome_cronicos, outcome_criticos)
names(descriptivo_outcome) = c("Total", "Crónicos", "Críticos")
rm(outcome_total, outcome_cronicos, outcome_criticos)
descriptivo_outcome
# Preparar y guardar en formato Latex
for (i in 1:length(descriptivo_outcome)) {
descriptivo_outcome[[i]]$x = paste0(descriptivo_outcome[[i]]$Freq, " (",
round(descriptivo_outcome[[i]]$Share, 2),"%)")
descriptivo_outcome[[i]] = descriptivo_outcome[[i]][c("Outcome", "x")]
colnames(descriptivo_outcome[[i]]) = c("Outcome",
names(descriptivo_outcome)[[i]])
}
descriptivo_outcome_latex = merge(descriptivo_outcome[[1]],
descriptivo_outcome[[2]], by = "Sexo")
descriptivo_outcome_latex = merge(descriptivo_outcome,
descriptivo_outcome[[3]], by = "Sexo")
descriptivo_outcome_latex = merge(descriptivo_outcome[[1]],
descriptivo_outcome[[2]], by = "Outcome")
descriptivo_outcome_latex = merge(descriptivo_outcome,
descriptivo_outcome[[3]], by = "Outcome")
outcome_total = plyr::count(dataset$outcome)
colnames(outcome_total) = c("Outcome", "Freq")
outcome_total$Share = (outcome_total$Freq/sum(outcome_total$Freq))*100
outcome_cronicos = plyr::count(cronicos$outcome)
colnames(outcome_cronicos) = c("Outcome", "Freq")
outcome_cronicos$Share = (outcome_cronicos$Freq/sum(outcome_cronicos$Freq))*100
outcome_criticos = plyr::count(criticos$outcome)
colnames(outcome_criticos) = c("Outcome", "Freq")
outcome_criticos$Share = (outcome_criticos$Freq/sum(outcome_criticos$Freq))*100
descriptivo_outcome = list(outcome_total, outcome_cronicos, outcome_criticos)
names(descriptivo_outcome) = c("Total", "Crónicos", "Críticos")
rm(outcome_total, outcome_cronicos, outcome_criticos)
# Preparar y guardar en formato Latex
for (i in 1:length(descriptivo_outcome)) {
descriptivo_outcome[[i]]$x = paste0(descriptivo_outcome[[i]]$Freq, " (",
round(descriptivo_outcome[[i]]$Share, 2),"%)")
descriptivo_outcome[[i]] = descriptivo_outcome[[i]][c("Outcome", "x")]
colnames(descriptivo_outcome[[i]]) = c("Outcome",
names(descriptivo_outcome)[[i]])
}
descriptivo_outcome_latex = merge(descriptivo_outcome[[1]],
descriptivo_outcome[[2]], by = "Outcome")
descriptivo_outcome_latex = merge(descriptivo_outcome_latex,
descriptivo_outcome[[3]], by = "Outcome")
descriptivo_outcome_latex_ltx = kable(descriptivo_outcome_latex,
caption = "Outcome, n (%)", format = "latex")
descriptivo_outcome_latex_ltx
writeLines(descriptivo_outcome_latex_ltx,"Análisis estadístico\\Análisis descriptivo\\Categorical_Outcome.tex")
